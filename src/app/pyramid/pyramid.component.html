<div>
    <div>
        <h1>Pyramid Index</h1>
    </div>


    <div id="indexCost" (window:resize)="resizeGrid()">
        <ag-grid-angular id="agGridPyramid"
            class="ag-theme-alpine"
            [columnDefs]="columnDefSch"
            [rowData]="rowDataPyramidMap"
            [defaultColDef]="defaultColDef"
            [gridOptions] = "gridOptions"
            (gridReady)="onGridReady($event)"
            [stopEditingWhenCellsLoseFocus] = true
            (cellEditingStopped)="onCellEditingStopped($event)"
            (firstDataRendered)="resizeGrid()"
            (gridSizeChanged)="resizeGrid()"
        >
        </ag-grid-angular>

        <div *ngIf="!editar" style="display: flex;">
            <div class="edit">
                <button secondary (click)="changeMode()">Editar</button>
            </div>
        </div>
        <div *ngIf="editar" style="display: flex;">
            <div class="closeEdit">
                <button  secondary (click)="undoChanges()" style="margin-right: 10px;">Deshacer cambios</button>
                <button  primary (click)="changeMode()">Guardar y Finalizar</button>
            </div>
        </div>
    </div>
    <div id="down" >
        <div id="left" (window:resize)="resizeGridLeft()">
          <mat-spinner *ngIf="isLoading"></mat-spinner>
            <ag-grid-angular id="gridChartLeft"
            class="ag-theme-alpine"
            [columnDefs]="columnDefSchChartLeft"
            [rowData]="rowDataPyramidChartLeft"
            [defaultColDef]="defaultColDefChartLeft"
            [gridOptions] = "gridOptionsLeft"
            (gridReady)="onGridReadyLeft($event)"
            (firstDataRendered)="resizeGridLeft()"
            (gridSizeChanged)="onGridSizeChanged($event)"
            >
            </ag-grid-angular>
            <div id="chartLeft">
                <apx-chart
                    [series]="chartOptionsLeft.series"
                    [chart]="chartOptionsLeft.chart"
                    [dataLabels]="chartOptionsLeft.dataLabels"
                    [plotOptions]="chartOptionsLeft.plotOptions"
                    [xaxis]="chartOptionsLeft.xaxis"
                ></apx-chart>
            </div>
        </div>

        <div id="right" (window:resize)="resizeGridRight()">
          <mat-spinner *ngIf="isLoading"></mat-spinner>
            <ag-grid-angular id="gridChartRight"
            class="ag-theme-alpine"
            [columnDefs]="columnDefSchChartRight"
            [rowData]="rowDataPyramidChartRight"
            [defaultColDef]="defaultColDefChartRight"
            [gridOptions] = "gridOptionsRight"
            (gridReady)="onGridReadyRight($event)"
            (firstDataRendered)="resizeGridRight()"
            (gridSizeChanged)="onGridSizeChanged($event)"
            >
            </ag-grid-angular>
            <div id="chartRight">
                <apx-chart
                    [series]="chartOptionsRight.series"
                    [chart]="chartOptionsRight.chart"
                    [dataLabels]="chartOptionsRight.dataLabels"
                    [plotOptions]="chartOptionsRight.plotOptions"
                    [xaxis]="chartOptionsRight.xaxis"
                ></apx-chart>
            </div>
        </div>
    </div>


</div>
